<!DOCTYPE html>
<html>
<head>
    <title>{{ lab.name }} - Details</title>
</head>
<body>
    <h1>Lab: {{ lab.name }}</h1>
    <p><strong>Code:</strong> {{ lab.lab_code }}</p>
    <p><strong>Location:</strong> {{ lab.location }}</p>
    <p><strong>Description:</strong> {{ lab.description }}</p>
    <p><strong>Lab Head:</strong> {{ lab.lab_head }}</p>
    <p><strong>Total PCs:</strong> {{ lab.pc_set.count }}</p>

    <h2>PCs in this Lab:</h2>
    <table border="1">
        <thead>
            <tr>
                <th>Asset Tag</th>
                <th>Hostname</th>
                <th>IP Address</th>
                <th>Manufacturer</th>
                <th>Model</th>
                <th>CPU</th>
                <th>RAM (MB)</th>
                <th>Storage (GB)</th>
                <th>OS</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            {% for pc in lab.pc_set.all %}
            <tr>
                <td>{{ pc.asset_tag }}</td>
                <td>{{ pc.hostname }}</td>
                <td>{{ pc.ip_address }}</td>
                <td>{{ pc.manufacturer }}</td>
                <td>{{ pc.model }}</td>
                <td>{{ pc.cpu }} ({{ pc.cpu_cores }} cores)</td>
                <td>{{ pc.ram_mb }}</td>
                <td>{{ pc.storage_gb }}</td>
                <td>{{ pc.os_name }} {{ pc.os_version }}</td>
                <td>
                    {% if pc.is_defective %}
                        ‚ùå Defective ({{ pc.defective_reason }})
                    {% else %}
                        ‚úÖ Working
                    {% endif %}
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="10">No PCs in this lab.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <a href="{% url 'lab-list' %}">üîô Back to Labs</a>
</body>
</html>
